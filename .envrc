use asdf
PATH_add bin/
PATH_add "$(asdf env deno printenv DENO_INSTALL_ROOT)"/bin/
if type pnpm >/dev/null 2>&1; then
  if [[ -d "$(pnpm --prefix misc/ bin)" ]]; then
    PATH_add "$(pnpm --prefix misc/ bin)"
  fi
fi

export HELM_NAMESPACE=portfolio
# avoid bug of pack
# https://github.com/GoogleCloudPlatform/buildpacks/issues/135#issuecomment-839847373
export TMPDIR="$HOME"/.pack
mkdir -p "$TMPDIR"

if ! [[ -v AWS_ACCESS_KEY_ID && -v AWS_SECRET_ACCESS_KEY && -v AWS_SESSION_TOKEN ]] &&
  [[ $CI != true ]]; then
  export AWS_CONFIG_FILE="$PWD"/.aws/config
  export AWS_PROFILE=n4vysh/common

  export AWS_VAULT_BACKEND=pass
  export AWS_VAULT_PASS_CMD=gopass
  export AWS_VAULT_PASS_PREFIX=aws-vault
  export AWS_VAULT_PROMPT=ykman
fi

export PIPENV_PIPFILE="$PWD"/misc/Pipfile
if type pipenv >/dev/null 2>&1; then
  PATH_add "$(pipenv --venv)"/bin/
fi
